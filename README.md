# DukeDSClient
Command line tool to upload the contents of a folder into a project on the [duke-data-service](https://github.com/Duke-Translational-Bioinformatics/duke-data-service).

###Install:
```
git clone https://github.com/Duke-GCB/DukeDSClient.git
cd DukeDSClient
python setup.py install
```

### Use:
To use DukeDSClient, you must supply an authentication token.
This requires a [Duke NetID](https://oit.duke.edu/email-accounts/netid/).
This token identifies you with the service, and can be generated by visiting the [Duke Data Service API Explorer](https://uatest.dataservice.duke.edu/apiexplorer).
Click the Authenticate button.
Click Duke Authentication Service.
Enter your NetId credentials.
Your authentication token will then be printed at the top of the screen.

Note that tokens obtained this way are only valid for 2 hours. 
Work is underway to improve this process and obtain longer-lived tokens.
```
export DUKE_DATA_SERVICE_AUTH='...'
```
See help screen:
```
ddsclient -h
```

Basic usage takes the form:
```
ddsclient <projectname> <folder>
```
This will create a project with the name projectname in the duke data service for your user if one doesn't exist.
It will then upload the folder and it's contents to that project.
Any items that already exist with the same hash will not be uploaded.


Example: Upload a folder named 'results' to new or existing project named 'Analyzed Mouse RNA':
```
ddsclient 'Analyzed Mouse RNA' results
```

###Testing:
From the root directory run the following:
```
python setup.py test
```
